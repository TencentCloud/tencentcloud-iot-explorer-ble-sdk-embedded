## 介绍
使用`python`脚本将后台生成的`json`格式的数据模版文件转为`c`代码文件。
极大的减少了用户的开发工作，同时保证了终端设备，网关设备上数据定义的一致性。

## 目录结构
```c
interpret_json_dt
├─src                                   # 脚本文件目录
│  ├─interpret_dt_ble.py                # 转换json脚本生成ble sdk代码          
```

## 代码生成原理
通过脚本解析`json`文件，将数据模版转换为对应的代码

### 头文件生成
1. 按照`LLSync协议`定义写入公共定义，包括数据类型定义，消息类型定义等
2. 解析`json`文件，将字符串`id`转换为枚举类型`id`
3. 将每个`id`对应的值根据其类型进行转换
   * 对于枚举类型，将其枚举值转换为枚举类型
   * 对于整数类型或浮点数类型，将其最大值，最小值，起始值，步进转换为宏定义
   * 对于字符串类型，将其最大长度，最小长度转换为宏定义
4. 写入不同数据类型的结构体定义

### BLE C文件生成
1. 解析`json`文件，根据`id`生成其操作函数，**操作函数需要用户按照需求实现**
2. 解析`json`文件，生成数据模版的结构数组

## 使用方法
### BLE SDK
1. 从物联网平台下载数据模版`json`文件
2. 执行`python interpret_dt_ble.py -c <your_json_file>`来生成对应的数据模版文件
3. 按照数据特性实现`ble_qiot_template.c`中的操作函数
4. 将生成文件拷贝到`data_template`目录编译即可

